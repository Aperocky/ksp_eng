PARAMETER ACTION, SCALAR IS 0.
RUNONCEPATH("FLIGHT_LIB.KS").

IF ACTION="WAYPOINT" {
    IF SCALAR < 5000 {
        SET SCALAR TO 5000.
    }
    AUTOPILOT_TO_WAYPOINT(SCALAR).
} ELSE IF ACTION="TAKEOFF" {
    TAKEOFF().
} ELSE IF ACTION="LANDING" {
    LANDING().
}
